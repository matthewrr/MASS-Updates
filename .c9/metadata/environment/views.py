{"filter":false,"title":"views.py","tooltip":"/views.py","undoManager":{"mark":15,"position":15,"stack":[[{"start":{"row":0,"column":0},"end":{"row":55,"column":58},"action":"insert","lines":["from django.http import HttpResponse","from django.views.decorators.csrf import csrf_exempt","","from search.views import all_events","from django.shortcuts import render","from urllib.request import urlopen","import os","from twilio.rest import Client","from search.getData import *","","employees = {}","events = {}","","@csrf_exempt","def sms_response2(request):","    ","    account_sid = \"ACde33cfc07cb9884468e076bdf25cb9ed\"","    auth_token = \"fdbbbc36113196c9abbb553bba9473d9\"","    client = Client(account_sid, auth_token)","    twilio_number = \"+15092837927\"","    ","    sender = request.POST.get('From', '')","    (cmd, body) = request.POST.get('Body', '').split(maxsplit=1)","    ","    if employees[sender]['active'] == True:","        if employees[sender]['admin'] == True:","            phone_all = [phone_number for phone_number in employees.keys()]","            if cmd == 'message':","                for phone_number in phone_all:","                    client.messages.create(","                        to=phone_number,","                        from_=twilio_number,","                        body=body","                    )","            else:","                client.messages.create(","                    to=sender,","                    from_=twilio_number,","                    body='Error: you must begin text with \"message\".'","                )","        else:","            if cmd == 'schedule': pass","            elif cmd == 'contact': pass","            else:","                client.messages.create(","                    to=sender,","                    from_=twilio_number,","                    body='Error: not a correct command.'","                )","    else:","        client.messages.create(","            to=sender,","            from_=twilio_number,","            body='Error: number not found.'","        )","    return HttpResponse('Hello! How did you get here? ;)')"],"id":1}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":34},"action":"remove","lines":["from urllib.request import urlopen"],"id":2}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":35},"action":"remove","lines":["from search.views import all_events"],"id":3},{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":1,"column":52},"end":{"row":2,"column":0},"action":"remove","lines":["",""],"id":4}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":35},"action":"remove","lines":["from django.shortcuts import render"],"id":5}],[{"start":{"row":0,"column":36},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":35},"action":"insert","lines":["from django.shortcuts import render"],"id":7}],[{"start":{"row":2,"column":52},"end":{"row":3,"column":0},"action":"remove","lines":["",""],"id":8}],[{"start":{"row":6,"column":0},"end":{"row":6,"column":28},"action":"remove","lines":["from search.getData import *"],"id":9}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":30},"action":"remove","lines":["from twilio.rest import Client"],"id":10}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":30},"action":"insert","lines":["from twilio.rest import Client"],"id":11}],[{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["",""],"id":12},{"start":{"row":5,"column":0},"end":{"row":6,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":10,"column":16},"end":{"row":10,"column":17},"action":"remove","lines":["2"],"id":13}],[{"start":{"row":7,"column":11},"end":{"row":7,"column":12},"action":"insert","lines":["o"],"id":14},{"start":{"row":7,"column":12},"end":{"row":7,"column":13},"action":"insert","lines":["s"]}],[{"start":{"row":7,"column":12},"end":{"row":7,"column":13},"action":"remove","lines":["s"],"id":15},{"start":{"row":7,"column":11},"end":{"row":7,"column":12},"action":"remove","lines":["o"]}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":9},"action":"remove","lines":["import os"],"id":16},{"start":{"row":3,"column":30},"end":{"row":4,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":16,"column":31},"end":{"row":16,"column":31},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1530215348959,"hash":"e479ea425a8178d706ec9674b93006b1d908f7a4"}